{"version":3,"sources":["./src/app/modalComponents/selected-stock-modal/selected-stock-modal.component.ts","./src/app/modalComponents/selected-stock-modal/selected-stock-modal.module.ts","./src/app/pages/stocks/stocks-routing.module.ts","./src/app/pages/stocks/stocks.module.ts","./src/app/pages/stocks/stocks.page.ts","./src/app/modalComponents/selected-stock-modal/selected-stock-modal.component.scss","./src/app/pages/stocks/stocks.page.scss","./src/app/modalComponents/selected-stock-modal/selected-stock-modal.component.html","./src/app/pages/stocks/stocks.page.html"],"names":[],"mappings":"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","file":"src_app_pages_stocks_stocks_module_ts.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { FormBuilder ,Validators} from '@angular/forms';\nimport { ApiCallsService } from 'src/app/services/api-calls.service';\n\n@Component({\n  selector: 'app-selected-stock-modal',\n  templateUrl: './selected-stock-modal.component.html',\n  styleUrls: ['./selected-stock-modal.component.scss'],\n})\nexport class SelectedStockModalComponent implements OnInit {\n\n  get Amount(){\n    return this.addStocksForm.get(\"Amount\");\n  }\n\n  get Branch(){\n    return this.addStocksForm.get(\"Branch\");\n  }\n\n  addStocksForm = this.formbuilder.group({\n    Amount:['',[Validators.required,Validators.maxLength(100)]],\n  })\n\n  transferStocksForm = this.formbuilder.group({\n    Amount:['',[Validators.required,Validators.maxLength(100)]],\n    Branch:['',[Validators.required]]\n  })\n\n  deleteStocksForm = this.formbuilder.group({\n    Amount:['',[Validators.required,Validators.maxLength(100)]],\n  })\n\n  constructor(\n    public apiCalls:ApiCallsService,\n    public formbuilder:FormBuilder,\n    private modalCtrl:ModalController,\n    public alertcontroller:AlertController\n  ) { }\n\n  availabeBraches = []\n\n  ngOnInit() {\n    this.getBranches();\n  }\n\n  async closeBTN(){\n    await this.modalCtrl.dismiss();\n  }\n\n  getBranches(){\n    this.apiCalls.getBranches()\n      .subscribe(\n        (response) => {\n          response.forEach(e => {\n            if(e.branchCode != this.apiCalls.selectedStock.branchCode){\n              this.availabeBraches.push(e);\n            }\n          });                        \n        },\n        (error) => {                            \n          console.error('Request failed with error')\n        })\n  }\n\n  addBTN(){\n    this.apiCalls.presentLoading(\"Please wait..\");\n    var itemID = this.apiCalls.selectedStock.itemId;\n    var qty = this.addStocksForm.get(\"Amount\").value;\n    var branchCode = this.apiCalls.selectedStock.branchCode\n    this.apiCalls.addStocks(itemID,branchCode,qty)\n      .subscribe(\n        (response) => {            \n          this.apiCalls.loadingController.dismiss()\n          this.apiCalls.presentAlert(\"Stocks Added\",true)  \n          this.closeBTN()            \n        },\n        (error) => {          \n          this.apiCalls.loadingController.dismiss()\n          this.apiCalls.presentAlert(\"Error occured! Try again\",true)                    \n        })\n   }\n\n   transferBTN(){\n    var senderBranch = this.apiCalls.selectedStock.branchCode;\n    var receiverBranch = this.transferStocksForm.get(\"Branch\").value;\n    var itemID = this.apiCalls.selectedStock.itemId;\n    var qty = this.transferStocksForm.get(\"Amount\").value;\n\n    if(this.apiCalls.selectedStock.currentStock > qty){\n      this.apiCalls.presentLoading(\"Please wait..\");\n      this.apiCalls.transferStocks(senderBranch,receiverBranch,itemID,qty)\n      .subscribe(\n        (response) => {            \n          this.apiCalls.loadingController.dismiss()\n          this.apiCalls.presentAlert(\"Stocks Tranfered\",true)  \n          this.closeBTN()            \n        },\n        (error) => {          \n          this.apiCalls.loadingController.dismiss()\n          this.apiCalls.presentAlert(\"Error occured! Try again\",true)                    \n        })\n    }else{ \n      this.apiCalls.presentAlert(\"Invalid request\",true)\n    }\n   }\n\n   deleteBTN(){\n    var itemID = this.apiCalls.selectedStock.itemId;\n    var qty = -this.deleteStocksForm.get(\"Amount\").value;\n    var branchCode = this.apiCalls.selectedStock.branchCode\n\n    if (this.apiCalls.selectedStock.currentStock >= -qty){\n      this.apiCalls.presentLoading(\"Please wait..\");\n      this.apiCalls.deleteStocks(itemID,branchCode,qty)\n      .subscribe(\n        (response) => {            \n          this.apiCalls.loadingController.dismiss()\n          this.apiCalls.presentAlert(\"Stocks Deleted\",true)  \n          this.closeBTN()            \n        },\n        (error) => {          \n          this.apiCalls.loadingController.dismiss()\n          this.apiCalls.presentAlert(\"Error occured! Try again\",true)                    \n        }) \n    }else{\n      this.apiCalls.presentAlert(\"Invalid Request\",true) \n      this.closeBTN()   \n    }\n   }\n\n   async deleteAlert(){\n    const alert = await this.alertcontroller.create({\n      message : \"Are you sure want to delete stocks\",\n      buttons : [{\n        text : 'NO',\n        role: 'cancel',\n      },{\n        text : 'YES',\n        handler: () => {\n          this.deleteBTN()\n        }\n      }]\n    });\n\n    await alert.present();\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SelectedStockModalComponent } from './selected-stock-modal.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [SelectedStockModalComponent],\r\n  entryComponents:[SelectedStockModalComponent],\r\n  exports:[SelectedStockModalComponent]\r\n})\r\nexport class selectedStockModalComponentModule {}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StocksPage } from './stocks.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StocksPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StocksPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\n\nimport { StocksPageRoutingModule } from './stocks-routing.module';\n\nimport { StocksPage } from './stocks.page';\nimport { selectedStockModalComponentModule } from 'src/app/modalComponents/selected-stock-modal/selected-stock-modal.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StocksPageRoutingModule,\n    Ng2SearchPipeModule,\n    selectedStockModalComponentModule\n  ],\n  declarations: [StocksPage]\n})\nexport class StocksPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ApiCallsService } from 'src/app/services/api-calls.service';\nimport { SelectedStockModalComponent } from 'src/app/modalComponents/selected-stock-modal/selected-stock-modal.component';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-stocks',\n  templateUrl: './stocks.page.html',\n  styleUrls: ['./stocks.page.scss'],\n})\nexport class StocksPage implements OnInit {\n\n  filterTerm:string;\n  returnedItems = [];\n  availabeBraches = [];\n\n  constructor(\n    public apicalls :ApiCallsService,\n    private modalCtrl: ModalController,\n    private router:Router,\n    private location: Location\n  ) { }\n\n  ngOnInit() {\n    this.apicalls.requirePane = true\n    this.getAllStocks();\n    this.getAllBranches();\n\n    this.apicalls.encodeURL();\n  }\n\n  getAllStocks(){\n    this.apicalls.getStocks()\n      .subscribe(\n        (response) => {                           \n          this.returnedItems = response\n        },\n        (error) => {                            \n          console.error('Request failed with error')\n        })\n  }\n\n  getAllBranches(){\n    this.apicalls.getBranches()\n      .subscribe(\n        (response) => {                           \n          this.availabeBraches = response\n        },\n        (error) => {                            \n          console.error('Request failed with error')\n        })\n  }\n\n  async selectedStockEvent(){\n    const modal = await this.modalCtrl.create({\n      component : SelectedStockModalComponent\n    })\n    await modal.present()\n  }\n\n  selectStock(event : any){\n    this.apicalls.selectedStock = event;\n    this.selectedStockEvent()\n  }\n\n  calculateStockVal(amount,cost){\n    var val = amount * cost;\n    return val;\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWxlY3RlZC1zdG9jay1tb2RhbC5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"ion-grid ion-row ion-col.long-text {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\nion-grid ion-row ion-col {\\n  text-align: center;\\n}\\n\\n.perElement {\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n  color: white;\\n}\\n\\n.available {\\n  background-color: #006403;\\n}\\n\\n.notavailable {\\n  background-color: #B92C20;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0b2Nrcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR1k7RUFDSSxnQkFBQTtFQUNBLHVCQUFBO0FBRmhCOztBQVVRO0VBQ0ksa0JBQUE7QUFQWjs7QUFZQTtFQUNJLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0FBVEo7O0FBWUE7RUFDSSx5QkFBQTtBQVRKOztBQVdBO0VBQ0kseUJBQUE7QUFSSiIsImZpbGUiOiJzdG9ja3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWdyaWQge1xyXG4gICAgaW9uLXJvdyB7XHJcbiAgICAgICAgaW9uLWNvbCB7XHJcbiAgICAgICAgICAgICYubG9uZy10ZXh0IHtcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuaW9uLWdyaWQge1xyXG4gICAgaW9uLXJvdyB7XHJcbiAgICAgICAgaW9uLWNvbCB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi5wZXJFbGVtZW50IHtcclxuICAgIHBhZGRpbmctdG9wOjEwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmF2YWlsYWJsZXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDY0MDM7XHJcbiAgfVxyXG4ubm90YXZhaWxhYmxle1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0I5MkMyMDtcclxuICB9Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{apiCalls.selectedStock.name}}</ion-title>\\n    <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"closeBTN()\\\">\\n      <ion-icon  name=\\\"close\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <br>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>Add stocks</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <form [formGroup] = \\\"addStocksForm\\\">\\n        <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Amount</ion-label>\\n            <ion-input formControlName=\\\"Amount\\\" type=\\\"number\\\" min = \\\"0\\\"></ion-input>\\n          </ion-item>\\n        </ion-list>\\n      <br>\\n      <ion-toolbar>\\n        <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"addBTN()\\\"  [disabled]=\\\"!addStocksForm.valid\\\">Add Stocks</ion-button>\\n      </ion-toolbar>\\n    </form>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <br>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>Transfer stocks</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <form [formGroup] = \\\"transferStocksForm\\\">\\n        <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Amount</ion-label>\\n            <ion-input formControlName=\\\"Amount\\\" type=\\\"number\\\" min = \\\"0\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Transfer To</ion-label>\\n            <ion-select placeholder=\\\"Select One\\\" formControlName=\\\"Branch\\\">\\n              <ion-select-option value=\\\"{{branch.branchCode}}\\\" *ngFor=\\\"let branch of availabeBraches\\\">{{branch.branchName}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-list>\\n      <br>\\n      <ion-toolbar>\\n        <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"transferBTN()\\\"  [disabled]=\\\"!transferStocksForm.valid\\\">Transfer Stocks</ion-button>\\n      </ion-toolbar>\\n    </form>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <br>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>Delete stocks</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <form [formGroup] = \\\"deleteStocksForm\\\">\\n        <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Amount</ion-label>\\n            <ion-input formControlName=\\\"Amount\\\" type=\\\"number\\\" min = \\\"0\\\"></ion-input>\\n          </ion-item>\\n        </ion-list>\\n      <br>\\n      <ion-toolbar>\\n        <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"deleteAlert()\\\"  [disabled]=\\\"!deleteStocksForm.valid\\\">Delete Stocks</ion-button>\\n      </ion-toolbar>\\n    </form>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\\n\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Stocks</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>  \\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"8\\\">\\n        <ion-toolbar>\\n          <ion-searchbar placeholder=\\\"Search...\\\" [(ngModel)]=\\\"filterTerm\\\" animated=\\\"true\\\" showCancelButton= \\\"focus\\\" ></ion-searchbar>\\n        </ion-toolbar>\\n      </ion-col>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label>Branch</ion-label>\\n          <ion-select placeholder=\\\"Select One\\\" [(ngModel)]=\\\"filterTerm\\\">\\n            <ion-select-option value=\\\"{{branch.branchCode}}\\\" *ngFor=\\\"let branch of availabeBraches\\\">{{branch.branchName}}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n  <br>\\n  \\n  <ion-grid>\\n    \\n    <!--Titles-->\\n    <ion-row>\\n      <ion-col>\\n        <ion-card style=\\\"text-align:center;\\\"><h5>Item Name</h5></ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card style=\\\"text-align:center;\\\"><h5>Brand</h5></ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card style=\\\"text-align:center;\\\"><h5>Stock Amount</h5></ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card style=\\\"text-align:center;\\\"><h5>Cost</h5></ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card style=\\\"text-align:center;\\\"><h5>Price</h5></ion-card>       \\n      </ion-col>\\n      <ion-col>\\n        <ion-card style=\\\"text-align:center;\\\"><h5>Discount</h5></ion-card>       \\n      </ion-col>\\n      <ion-col>\\n        <ion-card style=\\\"text-align:center;\\\"><h5>Stock value</h5></ion-card>       \\n      </ion-col>\\n    </ion-row>\\n    <!--End titles-->\\n\\n    \\n    <ion-card *ngFor=\\\"let item of returnedItems | filter:filterTerm;let i = index;\\\"  [ngClass]=\\\"(item.currentStock == 0) ? 'notavailable' : 'available'\\\" (click)=\\\"selectStock(item)\\\">\\n      <ion-row  >\\n        <ion-col class=\\\"long-text\\\">\\n          <div class=\\\"perElement\\\">{{item.name}}</div>\\n        </ion-col>\\n        <ion-col class=\\\"long-text\\\">\\n          <div class=\\\"perElement\\\">{{item.brandName}}</div>\\n        </ion-col>\\n        <ion-col class=\\\"long-text\\\">\\n          <div class=\\\"perElement\\\">{{item.currentStock}}</div>\\n        </ion-col>\\n        <ion-col class=\\\"long-text\\\">\\n          <div class=\\\"perElement\\\">{{item.cost}}</div>\\n        </ion-col>\\n        <ion-col class=\\\"long-text\\\">\\n          <div class=\\\"perElement\\\">{{item.price}}</div>\\n        </ion-col>\\n        <ion-col class=\\\"long-text\\\">\\n          <div class=\\\"perElement\\\">{{item.disValue}}</div>\\n        </ion-col>\\n        <ion-col class=\\\"long-text\\\">\\n          <div class=\\\"perElement\\\">{{calculateStockVal(item.currentStock,item.cost)}}</div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card>\\n\\n  </ion-grid>\\n  \\n\\n</ion-content>\";"],"sourceRoot":"webpack:///"}