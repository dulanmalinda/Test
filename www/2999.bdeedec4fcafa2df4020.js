(self.webpackChunkERP_proj=self.webpackChunkERP_proj||[]).push([[2999],{2999:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ItemsPageModule:()=>C});var o=i(8583),n=i(665),r=i(3083),a=i(649),s=i(4762),l=i(639),c=i(54);let d=(()=>{class e{constructor(e,t,i){this.modalCtrl=e,this.apiCalls=t,this.formbuilder=i,this.item={name:"",catName:"",brandName:"",tag:"",cost:"",price:"",disValue:""},this.registrationForm=this.formbuilder.group({name:["",[n.kI.required,n.kI.maxLength(100)]],catName:["",[n.kI.required,n.kI.maxLength(100)]],brandName:["",[n.kI.required,n.kI.maxLength(100)]],tag:["",[n.kI.required,n.kI.maxLength(100)]],cost:["",[n.kI.required,n.kI.maxLength(100)]],price:["",[n.kI.required,n.kI.maxLength(100)]],discount:["",[n.kI.maxLength(100)]]})}get name(){return this.registrationForm.get("name")}get catName(){return this.registrationForm.get("catName")}get brandName(){return this.registrationForm.get("brandName")}get tag(){return this.registrationForm.get("tag")}get cost(){return this.registrationForm.get("cost")}get price(){return this.registrationForm.get("price")}get discount(){return this.registrationForm.get("discount")}collectInputData(){this.item.name=this.registrationForm.get("name").value,this.item.catName=this.registrationForm.get("catName").value,this.item.brandName=this.registrationForm.get("brandName").value,this.item.tag=this.registrationForm.get("tag").value,this.item.cost=this.registrationForm.get("cost").value,this.item.price=this.registrationForm.get("price").value,this.item.disValue="0"}ngOnInit(){}submitBTN(){this.collectInputData(),this.apiCalls.presentLoading("Please wait.."),this.apiCalls.createItem(this.item).subscribe(e=>{this.apiCalls.presentAlert("Item added",!0),this.apiCalls.loadingController.dismiss(),this.closeBTN()},e=>{this.apiCalls.presentAlert("Error occured! Try again",!0),this.apiCalls.loadingController.dismiss()})}closeBTN(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.IN),l.Y36(c.ef),l.Y36(n.qu))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-add-item-modal"]],decls:37,vars:2,consts:[["color","danger","slot","end",3,"click"],["name","close"],[3,"formGroup"],["lines","full",1,"ion-no-margin"],["position","floating"],["formControlName","name"],["formControlName","catName"],["formControlName","brandName"],["formControlName","tag"],["formControlName","cost","type","number"],["formControlName","price","type","number"],["expand","block","fill","outline",3,"disabled","click"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-title"),l._uU(3,"Add Item"),l.qZA(),l.TgZ(4,"ion-button",0),l.NdJ("click",function(){return t.closeBTN()}),l._UZ(5,"ion-icon",1),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content"),l.TgZ(7,"form",2),l.TgZ(8,"ion-list",3),l.TgZ(9,"ion-item"),l.TgZ(10,"ion-label",4),l._uU(11,"Name"),l.qZA(),l._UZ(12,"ion-input",5),l.qZA(),l.TgZ(13,"ion-item"),l.TgZ(14,"ion-label",4),l._uU(15,"Catagory"),l.qZA(),l._UZ(16,"ion-input",6),l.qZA(),l.TgZ(17,"ion-item"),l.TgZ(18,"ion-label",4),l._uU(19,"Brand"),l.qZA(),l._UZ(20,"ion-input",7),l.qZA(),l.TgZ(21,"ion-item"),l.TgZ(22,"ion-label",4),l._uU(23,"Tags"),l.qZA(),l._UZ(24,"ion-input",8),l.qZA(),l.TgZ(25,"ion-item"),l.TgZ(26,"ion-label",4),l._uU(27,"Cost"),l.qZA(),l._UZ(28,"ion-input",9),l.qZA(),l.TgZ(29,"ion-item"),l.TgZ(30,"ion-label",4),l._uU(31,"Price"),l.qZA(),l._UZ(32,"ion-input",10),l.qZA(),l.qZA(),l._UZ(33,"br"),l.TgZ(34,"ion-toolbar"),l.TgZ(35,"ion-button",11),l.NdJ("click",function(){return t.submitBTN()}),l._uU(36,"Submit"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(7),l.Q6J("formGroup",t.registrationForm),l.xp6(28),l.Q6J("disabled",!t.registrationForm.valid))},directives:[r.Gu,r.sr,r.wd,r.YG,r.gu,r.W2,n._Y,n.JL,n.sg,r.q_,r.Ie,r.Q$,r.pK,r.j9,n.JJ,n.u,r.as],styles:[""]}),e})();var g=i(2624);function m(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._UZ(2,"ngx-barcode",6),l.qZA(),l.TgZ(3,"td"),l._UZ(4,"ngx-barcode",6),l.qZA(),l.TgZ(5,"td"),l._UZ(6,"ngx-barcode",6),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(2),l.Q6J("bc-value",e.barcodeValue)("bc-display-value",!0)("bc-width",.75)("bc-font-size",10)("bc-height",100),l.xp6(2),l.Q6J("bc-value",e.barcodeValue)("bc-display-value",!0)("bc-width",.75)("bc-font-size",10)("bc-height",100),l.xp6(2),l.Q6J("bc-value",e.barcodeValue)("bc-display-value",!0)("bc-width",.75)("bc-font-size",10)("bc-height",100)}}let u=(()=>{class e{constructor(e,t){this.modalCtrl=e,this.apiCalls=t,this.barcodeValue="EMPTY VALUE",this.rowsBarcode=[1,2,3,4,5,6,7,8]}ngOnInit(){this.barcodeValue=this.apiCalls.selectedItem.iId}closeBTN(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss()})}printPage(){const e=document.getElementById("PrintInvoice"),t=window.open("","","left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0");t.document.write(e.innerHTML),t.document.close(),t.focus(),t.print(),t.close(),this.closeBTN()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.IN),l.Y36(c.ef))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-barcode-printer"]],decls:12,vars:1,consts:[["color","danger","slot","end",3,"click"],["name","close"],["expand","block",3,"click"],["id","PrintInvoice"],["cellpadding","0","cellspacing","0",2,"width","100%","line-height","inherit","text-align","left"],[4,"ngFor","ngForOf"],[3,"bc-value","bc-display-value","bc-width","bc-font-size","bc-height"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-title"),l._uU(3,"Print Barcodes"),l.qZA(),l.TgZ(4,"ion-button",0),l.NdJ("click",function(){return t.closeBTN()}),l._UZ(5,"ion-icon",1),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content"),l.TgZ(7,"ion-button",2),l.NdJ("click",function(){return t.printPage()}),l._uU(8,"Print Page"),l.qZA(),l.TgZ(9,"div",3),l.TgZ(10,"table",4),l.YNc(11,m,7,15,"tr",5),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(11),l.Q6J("ngForOf",t.rowsBarcode))},directives:[r.Gu,r.sr,r.wd,r.YG,r.gu,r.W2,o.sg,g.y],styles:[""]}),e})(),Z=(()=>{class e{constructor(e,t,i,o){this.modalCtrl=e,this.apiCalls=t,this.formbuilder=i,this.router=o,this.barcodeValue="EMPTY VALUE",this.item={name:"",catName:"",brandName:"",tag:"",cost:"",price:"",disValue:""},this.registrationForm=this.formbuilder.group({name:["",[n.kI.required,n.kI.maxLength(100)]],catName:["",[n.kI.required,n.kI.maxLength(100)]],brandName:["",[n.kI.required,n.kI.maxLength(100)]],tag:["",[n.kI.required,n.kI.maxLength(100)]],cost:["",[n.kI.required,n.kI.maxLength(100)]],price:["",[n.kI.required,n.kI.maxLength(100)]],discount:["",[n.kI.maxLength(100)]]})}get name(){return this.registrationForm.get("name")}get catName(){return this.registrationForm.get("catName")}get brandName(){return this.registrationForm.get("brandName")}get tag(){return this.registrationForm.get("tag")}get cost(){return this.registrationForm.get("cost")}get price(){return this.registrationForm.get("price")}get discount(){return this.registrationForm.get("discount")}collectInputData(){this.item.name=""!=this.registrationForm.get("name").value?this.registrationForm.get("name").value:this.apiCalls.selectedItem.name,this.item.catName=""!=this.registrationForm.get("catName").value?this.registrationForm.get("catName").value:this.apiCalls.selectedItem.catName,this.item.brandName=""!=this.registrationForm.get("brandName").value?this.registrationForm.get("brandName").value:this.apiCalls.selectedItem.brandName,this.item.tag=""!=this.registrationForm.get("tag").value?this.registrationForm.get("tag").value:this.apiCalls.selectedItem.tag,this.item.cost=""!=this.registrationForm.get("cost").value?this.registrationForm.get("cost").value:this.apiCalls.selectedItem.cost,this.item.price=""!=this.registrationForm.get("price").value?this.registrationForm.get("price").value:this.apiCalls.selectedItem.price,this.item.disValue=""!=this.registrationForm.get("discount").value?this.registrationForm.get("discount").value:this.apiCalls.selectedItem.disValue}ngOnInit(){this.barcodeValue=this.apiCalls.selectedItem.iId}closeBTN(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss()})}updateBTN(){this.collectInputData(),this.apiCalls.presentLoading("Please wait.."),this.apiCalls.updateItem(this.item,this.apiCalls.selectedItem.iId).subscribe(e=>{this.apiCalls.loadingController.dismiss(),this.apiCalls.presentAlert("Item updated",!0),this.closeBTN()},e=>{this.apiCalls.loadingController.dismiss(),this.apiCalls.presentAlert("Error occured! Try again",!0)})}deleteBTN(){this.apiCalls.presentLoading("Please wait.."),this.apiCalls.deleteItem(this.apiCalls.selectedItem.iId).subscribe(e=>{this.apiCalls.loadingController.dismiss(),this.apiCalls.presentAlert("Item deleted",!0),this.closeBTN()},e=>{this.apiCalls.loadingController.dismiss(),this.apiCalls.presentAlert("Error occured! Try again",!0)})}printBarcodeBTN(){this.printBarcodeEvent()}printBarcodeEvent(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:u});yield e.present()})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.IN),l.Y36(c.ef),l.Y36(n.qu),l.Y36(a.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-selected-item-modal"]],decls:51,vars:15,consts:[["color","danger","slot","end",3,"click"],["name","close"],[2,"width","100%","padding-top","2%","padding-bottom","2%"],[3,"bc-value","bc-display-value","bc-width","bc-font-size","bc-height"],[3,"click"],[3,"formGroup"],["lines","full",1,"ion-no-margin"],["position","fixed"],["formControlName","name",3,"placeholder"],["formControlName","catName",3,"placeholder"],["formControlName","brandName",3,"placeholder"],["formControlName","tag",3,"placeholder"],["formControlName","cost","type","number",3,"placeholder"],["formControlName","price","type","number",3,"placeholder"],["formControlName","discount","type","number",3,"placeholder"],["expand","block","fill","outline",3,"disabled","click"],["expand","block","fill","outline","color","danger",3,"disabled","click"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-title"),l._uU(3,"Edit Item"),l.qZA(),l.TgZ(4,"ion-button",0),l.NdJ("click",function(){return t.closeBTN()}),l._UZ(5,"ion-icon",1),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content"),l.TgZ(7,"ion-card",2),l._UZ(8,"ngx-barcode",3),l._UZ(9,"br"),l.TgZ(10,"ion-button",4),l.NdJ("click",function(){return t.printBarcodeBTN()}),l._uU(11,"Print Barcode"),l.qZA(),l.qZA(),l.TgZ(12,"form",5),l.TgZ(13,"ion-list",6),l.TgZ(14,"ion-item"),l.TgZ(15,"ion-label",7),l._uU(16,"Name"),l.qZA(),l._UZ(17,"ion-input",8),l.qZA(),l.TgZ(18,"ion-item"),l.TgZ(19,"ion-label",7),l._uU(20,"Catagory"),l.qZA(),l._UZ(21,"ion-input",9),l.qZA(),l.TgZ(22,"ion-item"),l.TgZ(23,"ion-label",7),l._uU(24,"Brand"),l.qZA(),l._UZ(25,"ion-input",10),l.qZA(),l.TgZ(26,"ion-item"),l.TgZ(27,"ion-label",7),l._uU(28,"Tags"),l.qZA(),l._UZ(29,"ion-input",11),l.qZA(),l.TgZ(30,"ion-item"),l.TgZ(31,"ion-label",7),l._uU(32,"Cost"),l.qZA(),l._UZ(33,"ion-input",12),l.qZA(),l.TgZ(34,"ion-item"),l.TgZ(35,"ion-label",7),l._uU(36,"Price"),l.qZA(),l._UZ(37,"ion-input",13),l.qZA(),l.TgZ(38,"ion-item"),l.TgZ(39,"ion-label",7),l._uU(40,"Discount"),l.qZA(),l._UZ(41,"ion-input",14),l.qZA(),l.qZA(),l._UZ(42,"br"),l.TgZ(43,"ion-toolbar"),l.TgZ(44,"ion-button",15),l.NdJ("click",function(){return t.updateBTN()}),l._uU(45,"Update Item "),l.qZA(),l.qZA(),l.qZA(),l._UZ(46,"br"),l._UZ(47,"br"),l.TgZ(48,"ion-toolbar"),l.TgZ(49,"ion-button",16),l.NdJ("click",function(){return t.deleteBTN()}),l._uU(50,"Delete Item "),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("bc-value",t.barcodeValue)("bc-display-value",!0)("bc-width",1.5)("bc-font-size",20)("bc-height",100),l.xp6(4),l.Q6J("formGroup",t.registrationForm),l.xp6(5),l.s9C("placeholder",t.apiCalls.selectedItem.name),l.xp6(4),l.s9C("placeholder",t.apiCalls.selectedItem.catName),l.xp6(4),l.s9C("placeholder",t.apiCalls.selectedItem.brandName),l.xp6(4),l.s9C("placeholder",t.apiCalls.selectedItem.tag),l.xp6(4),l.s9C("placeholder",t.apiCalls.selectedItem.cost),l.xp6(4),l.s9C("placeholder",t.apiCalls.selectedItem.price),l.xp6(4),l.s9C("placeholder",t.apiCalls.selectedItem.disValue),l.xp6(3),l.Q6J("disabled",!1),l.xp6(5),l.Q6J("disabled",!1))},directives:[r.Gu,r.sr,r.wd,r.YG,r.gu,r.W2,r.PM,g.y,n._Y,n.JL,n.sg,r.q_,r.Ie,r.Q$,r.pK,r.j9,n.JJ,n.u,r.as],styles:[""]}),e})();var p=i(4981);function h(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ion-card",7),l.NdJ("click",function(){const t=l.CHM(e).$implicit;return l.oxw().selectItem(t)}),l.TgZ(1,"ion-row"),l.TgZ(2,"ion-col",8),l.TgZ(3,"div",9),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"ion-col",8),l.TgZ(6,"div",9),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"ion-col",8),l.TgZ(9,"div",9),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"ion-col",8),l.TgZ(12,"div",9),l._uU(13),l.qZA(),l.qZA(),l.TgZ(14,"ion-col",8),l.TgZ(15,"div",9),l._uU(16),l.qZA(),l.qZA(),l.TgZ(17,"ion-col",8),l.TgZ(18,"div",9),l._uU(19),l.qZA(),l.qZA(),l.TgZ(20,"ion-col",8),l.TgZ(21,"div",9),l._uU(22),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit;l.Q6J("ngClass","even"),l.xp6(4),l.Oqu(e.name),l.xp6(3),l.Oqu(e.catName),l.xp6(3),l.Oqu(e.brandName),l.xp6(3),l.Oqu(e.tag),l.xp6(3),l.Oqu(e.cost),l.xp6(3),l.Oqu(e.price),l.xp6(3),l.Oqu(e.disValue)}}const b=[{path:"",component:(()=>{class e{constructor(e,t){this.apicalls=e,this.modalCtrl=t,this.returnedItems=[]}ngOnInit(){this.apicalls.requirePane=!0,this.getItems(),this.apicalls.encodeURL()}getItems(){this.apicalls.getItems().subscribe(e=>{this.returnedItems=e},e=>{console.error("Request failed with error")})}addItemBtn(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:d});yield e.present()})}selectedItemEvent(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:Z});yield e.present()})}selectItem(e){this.apicalls.selectedItem=e,this.selectedItemEvent()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.ef),l.Y36(r.IN))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-items"]],decls:45,vars:6,consts:[[3,"translucent"],["slot","start"],[2,"text-align","right","padding","10px"],["size","medium",3,"click"],["placeholder","Search...","animated","true","showCancelButton","focus",3,"ngModel","ngModelChange"],[2,"text-align","center"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"long-text"],[1,"perElement"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header",0),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",1),l._UZ(3,"ion-menu-button"),l.qZA(),l.TgZ(4,"ion-title"),l._uU(5,"Items"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content"),l.TgZ(7,"div",2),l.TgZ(8,"ion-button",3),l.NdJ("click",function(){return t.addItemBtn()}),l._uU(9,"Add Item"),l.qZA(),l.qZA(),l.TgZ(10,"ion-toolbar"),l.TgZ(11,"ion-searchbar",4),l.NdJ("ngModelChange",function(e){return t.filterTerm=e}),l.qZA(),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"ion-grid"),l.TgZ(14,"ion-row"),l.TgZ(15,"ion-col"),l.TgZ(16,"ion-card",5),l.TgZ(17,"h5"),l._uU(18,"Item Name"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"ion-col"),l.TgZ(20,"ion-card",5),l.TgZ(21,"h5"),l._uU(22,"Catagory"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"ion-col"),l.TgZ(24,"ion-card",5),l.TgZ(25,"h5"),l._uU(26,"Brand"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(27,"ion-col"),l.TgZ(28,"ion-card",5),l.TgZ(29,"h5"),l._uU(30,"Tag"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"ion-col"),l.TgZ(32,"ion-card",5),l.TgZ(33,"h5"),l._uU(34,"Cost"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(35,"ion-col"),l.TgZ(36,"ion-card",5),l.TgZ(37,"h5"),l._uU(38,"Price"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(39,"ion-col"),l.TgZ(40,"ion-card",5),l.TgZ(41,"h5"),l._uU(42,"Discount"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(43,h,23,8,"ion-card",6),l.ALo(44,"filter"),l.qZA(),l.qZA()),2&e&&(l.Q6J("translucent",!0),l.xp6(11),l.Q6J("ngModel",t.filterTerm),l.xp6(32),l.Q6J("ngForOf",l.xi3(44,3,t.returnedItems,t.filterTerm)))},directives:[r.Gu,r.sr,r.Sm,r.fG,r.wd,r.W2,r.YG,r.VI,r.j9,n.JJ,n.On,r.jY,r.Nd,r.wI,r.PM,o.sg,o.mk],pipes:[p.Z],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.long-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}.perElement[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;color:#fff}.odd[_ngcontent-%COMP%]{background-color:#d23715}.even[_ngcontent-%COMP%]{background-color:#e44b2a}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(b)],a.Bz]}),e})();var q=i(6680),A=i(3659);let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,n.u5,r.Pc,T,p.h,q.addItemModalComponentModule,A.q]]}),e})()}}]);